http:
  middlewares:
    nofloc:
      headers:
        customResponseHeaders:
          Permissions-Policy: 'interest-cohort=()'
    secureHeaders:
      headers:
        sslRedirect: true
        forceSTSHeader: true
        stsIncludeSubdomains: true
        stsPreload: true
        stsSeconds: 31536000
    request-limit:
      rateLimit:
        average: 100
        burst: 50
        period: 1m
        sourceCriterion:
          ipStrategy:
            depth: 2

    user-auth:
      basicAuth:
        users:
          - admin:$apr1$TW/CD4tX$f8TywIA5kT7YbTfg1xYYh1

    # jwt-verify:
    #   forwardAuth:
    #     address: http://user_service:8000/api/v1/auth/token/verify/
    #     trustForwardHeader: true
    #     authResponseHeaders:
    #       - X-User-ID
    #     authRequestHeaders:
    #       - Authorization
    #     skipForwardAuth:
    #       - OPTIONS

    # cors-allow-all:
    #   headers:
    #     accessControlAllowOriginList:
    #       - "https://joseph.works"
    #     accessControlAllowMethods:
    #       - GET
    #       - POST
    #       - OPTIONS
    #       - PUT
    #       - DELETE
    #     accessControlAllowHeaders:
    #       - Authorization
    #       - Content-Type
    #     accessControlAllowCredentials: true
    #     addVaryHeader: true
